<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="main.css">
    <title>Лабораторная работа 1</title>
</head>
<body>
<div class="prg">
    <div class="search">
        <h1>Список дел</h1>
        <div class="input_menu">
            <input id="input_box" placeholder="Новый элемент списка">
            <button id="search_button" onclick="addElement()">Создать</button>
        </div>
    </div>
    <ol id="ol1">
<!--        <li class="willBeDeleted"><input class="ol_checkbox" type="checkbox" name="tasks"><span>Покормить кошку</span>-->
<!--            <button><img src="redcross.webp" onclick="deleteElement(li.id)" width="12" height="12"></button>-->
<!--        </li>-->
<!--        <li class="willBeDeleted"><input class="ol_checkbox" type="checkbox" name="tasks"><span>Полить картошку</span>-->
<!--            <button><img src="redcross.webp" width="12" height="12"></button>-->
<!--        </li>-->
<!--        <li class="willBeDeleted"><input class="ol_checkbox" type="checkbox" name="tasks"><span>Положить в лукошко</span>-->
<!--            <button><img src="redcross.webp" width="12" height="12"></button>-->
<!--        </li>-->
    </ol>

    <script>
        function addElement() {
            const $ol1 = document.querySelector('#ol1');

            const id = Math.random().toString(36).substring(2);

            const li_id = document.getElementById(`${id}`)

            let text = document.getElementById("input_box").value;
            if (text !== "")
                $ol1.insertAdjacentHTML('beforeend', `<li class="listElement"><input class="ol_checkbox" type="checkbox" name="tasks" id = ${id} ><span>${text}</span> <button id="deleting"><img  src="redcross.webp" width="12" height="12"></button></li>`);
        }

        const task = document.querySelector('ol');

        task.addEventListener('click', event => {
            let taskElement = event.target.closest('.listElement');
            let deletingButton = event.target.closest('#deleting');

            if (taskElement && deletingButton){
                taskElement.remove();
            }
        })
    </script>
</div>
</body>
</html>
